include:
  - docassemble.AssemblyLine:al_package.yml
  - docassemble.EFSPIntegration:efiling_integration.yml
  - docassemble.ILAO:ilao-interview-framework.yml
  - docassemble.ILAO:shared-basic-questions.yml
---
modules:
  - docassemble.PovertyScale.poverty
---
mandatory: True
comment: |
  This contains metadata that will not be overwritten if this YAML file is included in another file. Each file gets its own key in the interview_metadata dictionary.
  Most keys are not currently used at runtime, other than "allowed courts".
code: |
  interview_metadata
  if not defined("interview_metadata['IL_fee_waiver']"):
    interview_metadata.initializeObject("IL_fee_waiver")
    interview_metadata["IL_fee_waiver"].update({
      "al_weaver_version": "1.0.2",
      "generated on": "2021-06-22",
      "title": "Application for Fee Waiver",
      "short title": "Fee Waiver",
      "description": """* You will need to know your income and expenses information for the past 12 months. You also need to know the value of your belongings, including any real estate.\n* If you are filling this form out on behalf of a minor or incompetent adult, you will need that person’s information.\n* If you  get  public  benefits,  you  may  want  to  bring  current  proof   of   eligibility   and   a benefits   statement   from   the   agency providing the benefit when you file your forms.\n* If  you  don’t  get  public  benefits,  you  may  want  to  bring  documents  showing  your  income,  value  of  belongings  (including  real  estate)  and  expense  information  when  you  file your forms.""",
      "original_form": "https://www.illinoiscourts.gov/forms/approved-forms/forms-approved-forms-circuit-court/fee-waiver-civil",
      "allowed courts": [
      ],
      "categories": [
        "FA-00-00-00-00",
        "HO-00-00-00-00",
        "MO-00-00-00-00",
        "RI-10-00-00-00",
        "ES-00-00-00-00",
        "IM-00-00-00-00",
        "HE-00-00-00-00",
        "FA-07-00-00-00",
        "BE-00-00-00-00",
        "ED-00-00-00-00",
        "BE-04-00-00-00",
      ],        
      "logic block variable": "interview_order_IL_fee_waiver",
      "attachment block variable": "IL_fee_waiver_attachment",
      "typical role": "unknown",
    })
---
id: trial court county
continue button field: case_county
question: |
  In which county was this case filed?
fields:
  - no label: trial_court_index
    code: |
      #court_list.filter_courts(allowed_courts, column='department')
      court_list._load_courts()['address_county'].items()
---
depends on:
  - trial_court_index
code: |
  trial_court = court_list.as_court('trial_court', trial_court_index)
  # work around: use assignment instead of this variable
  #trial_court.geolocate()
  # use this in the attachment block: trial_court.address.county
---
code: |
  interview_short_title = "Fee waiver"
  form_name = "Fee waiver"
---
code: |
  al_form_type = 'existing_case'
---
objects:
  - signer: ALPeopleList.using(ask_number=True,target_number=1)
  - users: ALPeopleList # .using(ask_number=True,target_number=1)
  - user_income_other_list: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - user_annual_other_list: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - user_expense_other_list: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - user_asset_other_list: DAList.using(object_type=Thing, complete_attribute='complete', there_are_any=True)
  - court_list: ALCourtLoader.using(file_name='docassemble.ILAO:data/sources/il_courts.xlsx')
  - court_emails: DAEmpty #dummy variable definition  
---
scan for variables: False
sets: interview_order_IL_fee_waiver
#################### Interview order #####################
comment: |
  Controls order and branching logic for questions specific to this form
id: interview_order_IL_fee_waiver
code: |
  # Set the allowed courts for this interview
  allowed_courts = interview_metadata["IL_fee_waiver"]["allowed courts"]
  nav.set_section('review_IL_fee_waiver')
  filing_basis
  #if filing_basis == "filing_on_behalf_of":
  # users.gather() moved to after user_ask_role    
  user_has_dependents
  if user_receives_benefits:
    user_qualifies_interstitial
  else:
    user_applied_for_benefits
    set_progress(11.11)
    if not user_income_none:
      if user_income_other:
        user_income_other_list.gather()
    if not user_annual_none:
      if user_annual_other:
        user_annual_other_list.gather()
    if not user_expense_none:
      if user_expense_other:
        user_expense_other_list.gather()
    set_progress(22.22)
    ask_user_assets
    if not user_asset_none:
      if user_asset_other:
        user_asset_other_list.gather()
  
    # If something went wrong obtaining income limit, just skip this screen
    # The error will get logged.
    if not poverty_scale_get_income_limit(household_size=household_size, multiplier=1.25) is None:
      show_qualification_guess
  substantial_hardship_explanation
  qualify_for_waiver

  # Below sets the user_role by asking a question.
  # You can set user_role directly instead to either 'plaintiff' or 'defendant'
  user_role
  users.gather()
  other_parties.gather()  
  # user_consents_email_notice
  set_progress(33.33)
  trial_court.address.address
  docket_number
  plaintiffs
  defendants
  set_progress(44.44)
  set_parts(subtitle=str(users))
  #users[0].birth_year
  set_progress(55.56)
  users[0].address.address
  if filing_basis == "filing_self":
    set_progress(66.67)
    users[0].has_email_address
  if filing_basis != "filing_self":
    signer[0].address.address
    set_progress(66.67)
    signer[0].has_email_address

  court_choice
  bring_docs
  
  interview_order_IL_fee_waiver = True
---
sets: qualify_for_waiver
code: |
  if user_receives_benefits:
    qualify_for_waiver = 'yes'
  elif not poverty_scale_get_income_limit(household_size=household_size, multiplier=1.25) is None:
    qualify_for_waiver = 'likely' if last_month_income_qualifies or last_year_income_qualifies else 'unlikely'
  else:
    qualify_for_waiver = 'cannot-check'
---
id: your name
sets:
    - users[0].name.first
    - users[0].name.last
question:  |
  % if filing_basis == "filing_self":
  What is your name?
  % else:
  ${ signer.familiar() }, who are you filing on behalf of?
  % endif
fields:
  - code: |
      users[0].name_fields()
---
comment: |
  This question is used to introduce your interview. Please customize
id: Application_for_Fee_Waiver
continue button field: IL_fee_waiver_intro
question: |
  Application for Fee Waiver of Court Fees
subquestion: |
  * You will need to know your income and expenses information for the past 12 months. You also need to know the value of your belongings, including any real estate.
  * If you are filling this form out on behalf of a minor or incompetent adult, you will need that person’s information.
  * If you get public benefits,  you  may  want  to  bring  current  proof   of   eligibility   and   a benefits   statement   from   the   agency providing the benefit when you file your forms.
  * If  you  don’t  get  public  benefits,  you  may  want  to  bring  documents  showing  your  income,  value  of  belongings  (including  real  estate)  and  expense  information  when  you  file your forms.
---
id: instructions
continue button field: instructions
question: |
  Instructions
subquestion: |
  To use this program you will need to know: 

  * The public benefits that you get,
  * Your income in the past month,
  * Your income over the past 12 months,
  * Your monthly expenses, and
  * The value of your belongings.

  If you are filling out this form on behalf of a minor or incompetent adult, you will need that person’s information.

  You will also need to know information about the court case for which you are requesting a fee waiver. You can find this information on other court papers you have about this case. 

  Set aside :stopwatch: 10 to 15 minutes to finish this program. You can login and save your work to return to later. 

  ${ collapse_template(help_example) }  
  
  Click on **{green words}** to learn what they mean. Some pages have a question mark in a circle ${ fa_icon("question-circle", color_css="#0dcaf0" ) } that helps explain things.
---
template: help_example
subject: |
  **You can click sections like this to show more information.**
content: |  
  This is an example of help. Click again to hide.
---
id: Do you receive any benefits
question: |
  % if filing_basis == "filing_self":
  Do you **currently** receive any public benefits?
  % else:
  Does ${ users[0].familiar() } receive any public benefits?
  % endif
subquestion: |
  % if filing_basis == "filing_self":
  Check any benefits that you currently receive.
  % else:
  Check any benefits that ${ users[0].familiar() } currently receives.
  % endif
fields:
  - no label: user_benefits
    datatype: checkboxes
    choices:
      - SSI - Supplemental Security Income (not Social Security): SSI
      - AABD - Aid to the Aged, Blind and Disabled: AABD
      - TANF - Temporary Assistance to Needy Families: TANF
      - SNAP - Supplemental Nutrition Assitance Program (Food Stamps): SNAP
      - General Assistance Program (GA), Transitional Assistance, or State Children and Family Assistance: GA
    required: False
---
id: Did you apply for any benefits
question: |
  % if filing_basis == "filing_self":
  Have you applied and are waiting to learn if you receive any public benefits?
  % else:
  Has ${ users[0].familiar() } applied and is waiting to learn if
  they receive any public benefits?
  % endif 
subquestion: |
  % if filing_basis == "filing_self":
  Answer **Yes** if you **applied** for any of these benefits but do not yet
  know if you will receive them because your application is pending.
  % else:
  Answer **Yes** if **${ users[0].familiar() }** has **applied** for any of these benefits but does not yet
  know if they will receive them because their application is pending.
  % endif
  
  * SSI - Supplemental Security Income (not Social Security)
  * AABD - Aid to the Aged, Blind and Disabled
  * TANF - Temporary Assistance to Needy Families
  * SNAP - Supplemental Nutrition Assitance Program (Food Stamps)
  * General Assistance Program (GA), Transitional Assistance, or State Children and Family Assistance
fields:
  - no label: user_applied_for_benefits
    datatype: yesnoradio
---
depends on:
  - user_benefits
code: |
  user_receives_benefits = user_benefits.any_true()
---
depends on:
  - user_applied_for_benefits
code: |
  user_has_applied_for_benefits = user_applied_for_benefits.any_true()
---
id: is the user the plaintiff or defendant?
question: |
  % if filing_basis == "filing_self":
  Did you start this case, or are you responding to a case that someone else filed against you?
  % else:
  Did ${ users[0].familiar() } start this case, or did they respond to a case
  that someone else filed?
  % endif
fields: 
  - no label: user_ask_role
    datatype: radio
    choices:
      - I started the case: plaintiff
      - I am responding to a case filed against me: defendant
    show if:
      code: |
        filing_basis == "filing_self"
  - no label: user_ask_role
    datatype: radio
    choices:
      - ${ users[0].familiar() } started the case: plaintiff
      - ${ users[0].familiar() } responded to a case filed against them: defendant
    show if:
      code: |
        filing_basis != "filing_self"
  - note: |
      % if filing_basis == "filing_self":
      Okay, you are the **Plaintiff** or **Petitioner** in this case. The other 
      side is the Defendant or Respondent.
      % else:
      Okay, ${ users[0].familiar() } is the **Plaintiff** or **Petitioner** in
      this case. The other side is the Defendant or Respondent. 
      % endif
    show if:
      variable: user_ask_role
      is: "plaintiff"
  - note: |
      % if filing_basis == "filing_self":
      Okay, you are the **Defendant** or **Respondent** in this case. The other 
      side is the Plaintiff or Petitioner.
      % else:
      Okay, ${ users[0].familiar() } is the **Defendant** or **Respondent** in
      this case. The other side is the Plaintiff or Petitioner.
      % endif
    show if:
      variable: user_ask_role
      is: "defendant"
help:
  label: |
    How do I know?
  content: |
    If you are the first person to file a form in the case, you 
    started the case. You are the **Plaintiff** or the **Petitioner.**

    If you are responding to a case or court papers someone else filed, you
    are the **Defendant** or the **Respondent.**
---
continue button field: user_qualifies_interstitial
question: |
  % if filing_basis == "filing_self":
  We think you should qualify
  % else:
  We think ${ users[0].familiar() } should qualify
  % endif
subquestion: |
  % if filing_basis == "filing_self":
  Because you currently receive public benefits, you should qualify for 100% waiver of fees for your civil case.

  You may may need to bring proof of your public benefits to the fee waiver hearing or the 1st court date.
  You should check with the ${ trial_court } circuit clerk${ " at " + trial_court.phone if hasattr(trial_court, 'phone') else ""}.
  % else:
  Because ${ users[0].familiar() } currently receives public benefits,
  they should qualify for a 100% waiver of fees in this civil case.

  They may may need to bring proof of your public benefits to the fee waiver hearing or the 1st court date.
  They should check with the ${ trial_court } circuit clerk${ " at " + trial_court.phone if hasattr(trial_court, 'phone') else ""}.
  % endif
---
id: How many dependents do you have
question: |
  % if filing_basis == "filing_self":
  Does anyone live with you that you support financially?  
  % else:
  Does anyone live with ${ users[0].familiar() } that they support
  financially?
  % endif
fields:
  - Support household members: user_has_dependents
    datatype: yesnoradio
  - Number of adults supported: user_dependents_adults
    datatype: integer
    min: 0
    show if: user_has_dependents
  - Number of children under 18 supported: user_dependents_children
    datatype: integer
    min: 0
    show if: user_has_dependents
---
id: What income did you receive in the last month
question: |
  % if filing_basis == "filing_self":
  What income did you receive in the last month?
  % else:
  What income did ${ users[0].familiar() } receive in the last month?
  % endif
subquestion: |
  List the amount of income you received before taxes.
fields:
  - label: |
      % if filing_basis == "filing_self":
      I do not have any income
      % else:
      ${ users[0].familiar() } does not have any income
      % endif
    field: user_income_none
    datatype: yesnowide
    disable others: True
  - Money from jobs or self-employment: user_income_employment
    datatype: yesnowide
  - "Amount": user_income_employment_amount
    datatype: currency
    min: 0
    show if: user_income_employment
  - "Social Security (not SSI)": user_income_ss
    datatype: yesnowide
  - "Amount": user_income_ss_amount
    datatype: currency
    min: 0
    show if: user_income_ss
  - "Child support": user_income_child_support
    datatype: yesnowide
  - "Amount": user_income_child_support_amount
    datatype: currency
    min: 0
    show if: user_income_child_support
  - "Unemployment benefits": user_income_unemployment
    datatype: yesnowide    
  - "Amount": user_income_unemployment_amount
    datatype: currency
    min: 0
    show if: user_income_unemployment
  - "Pension": user_income_pension
    datatype: yesnowide
  - "Amount": user_income_pension_amount
    datatype: currency
    min: 0
    show if: user_income_pension
  - "Money from household members": user_income_household
    datatype: yesnowide
  - "Amount": user_income_household_amount
    datatype: currency
    min: 0
    show if: user_income_household    
  - "Other income not listed above (enter details on the next screen)": user_income_other
    datatype: yesnowide
    help: |
      Examples of other income include:
      
        * Money from family or friends,
        * Spousal support, also called alimony,
        * Business or rental income,
        * Veterans benefits, or 
        * Military allowance.      
validation code: |
  if not (user_income_none or user_income_employment or user_income_unemployment or user_income_household or user_income_ss or user_income_child_support or user_income_pension or user_income_other):
    validation_error("Check at least one option.", field="user_income_other")
---
id: user other income details
question: |
  % if filing_basis == "filing_self":
  What other income did you receive in the last month?
  % else:
  What other income did ${ users[0].familiar() } receive in the last month?
  % endif
subquestion: |
  List the amount of income you received before taxes.
fields:
  - "Type or source of income": user_income_other_list[i].name.text
    maxlength: 25
  - "Amount": user_income_other_list[i].amount
    datatype: currency
    min: 0.01

---
id: any other monthly income
question: |
  Any other income in the past month?
subquestion: |
  The forms have space for **{certain types of income}** and up to 3 other sources of income.

  So far you have told us about:
  
  % if user_income_employment:
   * $${thousands(user_income_employment_amount, show_decimals=True)} from jobs or self-employment
  % endif
  % if user_income_ss:
   * $${thousands(user_income_ss_amount, show_decimals=True)} from Social Security (not SSI)
  % endif
  % if user_income_child_support:
   * $${thousands(user_income_child_support_amount, show_decimals=True)} from child support
  % endif
  % if user_income_unemployment:
   * $${thousands(user_income_unemployment_amount, show_decimals=True)} from Unemployment
  % endif
  % if user_income_pension:
   * $${thousands(user_income_pension_amount, show_decimals=True)} from pension
  % endif
  % if user_income_household:
   * $${thousands(user_income_household_amount, show_decimals=True)} from other household members
  % endif
  % for other_income in user_income_other_list:
   * $${thousands(other_income.amount, show_decimals=True)} from ${other_income.name.text} 
  % endfor
fields:
  - "Add another source of income?": user_income_other_list.there_is_another
    datatype: yesnoradio
---
terms: 
  - "certain types of income": |
      These income types are listed on the Fee waiver application:
      
       * Employment
       * Social Security (not SSI)
       * Child support
       * Unemployment
       * Pension
       * Money from other household members
---
code: |
  user_income_other_list[i].name.text
  user_income_other_list[i].amount
  user_income_other_list[i].complete = True
---
code: |
  if user_income_other_list.number_gathered() >= 3:
    user_income_other_list.there_is_another = False
---
depends on:
  - user_income_other_list[0].amount
  - user_income_other_list[1].amount
  - user_income_other_list[2].amount
  - user_income_household_amount
  - user_income_ss_amount
  - user_income_child_support_amount
  - user_income_employment_amount
  - user_income_unemployment_amount
  - user_income_pension_amount
code: |
  def sum_if_defined(*pargs):
    total = 0
    for source in pargs:
      if defined(source):
        total += value(source)
    return total
  
  user_income_total = sum_if_defined('user_income_other_list[0].amount', 
      'user_income_other_list[1].amount',
      'user_income_other_list[2].amount',
      'user_income_household_amount',
      'user_income_ss_amount',
      'user_income_employment_amount',
      'user_income_child_support_amount',
      'user_income_unemployment_amount',
      'user_income_pension_amount')
---
id: What income did you receive in the last year
question: |
  % if filing_basis == "filing_self":
  What income did you get in the last 12 months?
  % else:
  What income did ${ users[0].familiar() } get in the last 12 months?
  % endif
subquestion: |
  We will use the information that you gave us about income from
  last month as a starting point. Look it over carefully and make
  any corrections that you need.
  
  **Note:** We used the information you gave us about income from
  last month and multiplied it by 12 as a starting point. Look it over carefully
  and make any corrections you need.

fields:
  - label: |
      % if filing_basis == "filing_self":
      I did not have any income in the last 12 months
      % else:
      ${ users[0].familiar() } did not have any income over the last 12 months
      % endif
    field: user_annual_none
    datatype: yesnowide
    disable others: True
  - Money from jobs or self-employment: user_annual_employment
    datatype: yesnowide
    default: ${ showifdef('user_income_employment') }
  - "Amount": user_annual_employment_amount
    datatype: currency
    min: 0
    default: |
      % if defined('user_income_employment_amount'):
      ${ user_income_employment_amount * 12 }
      % endif
    show if: user_annual_employment
  - "Social Security": user_annual_ss
    datatype: yesnowide
    default: ${ showifdef('user_income_ss') }
  - "Amount": user_annual_ss_amount
    datatype: currency
    min: 0
    default: |
      % if defined('user_income_ss_amount'):
      ${ user_income_ss_amount * 12 }
      % endif
    show if: user_annual_ss      
  - "Child support": user_annual_child_support
    datatype: yesnowide
    default: ${ showifdef('user_income_child_support') }
  - "Amount": user_annual_child_support_amount
    datatype: currency
    min: 0
    show if: user_annual_child_support
    default: |
      % if defined('user_income_child_support_amount'):
      ${ user_income_child_support_amount * 12 }
      % endif
  - "Unemployment benefits": user_annual_unemployment
    datatype: yesnowide
    default: ${ showifdef('user_income_unemployment') }
  - "Amount": user_annual_unemployment_amount
    datatype: currency
    min: 0
    default: |
      % if defined('user_income_unemployment_amount'):
      ${ user_income_unemployment_amount * 12 }
      % endif
    show if: user_annual_unemployment
  - "Pension": user_annual_pension
    datatype: yesnowide
    default: ${ showifdef('user_income_pension') }
  - "Amount": user_annual_pension_amount
    datatype: currency
    min: 0
    default: |
      % if defined('user_income_pension_amount'):
      ${ user_income_pension_amount * 12 }
      % endif
    show if: user_annual_pension
  - "Household members": user_annual_household
    datatype: yesnowide
    default: ${ showifdef('user_income_household') }
  - "Amount": user_annual_household_amount
    datatype: currency
    min: 0
    show if: user_annual_household
    default: |
      % if defined('user_income_household_amount'):
      ${ user_income_household_amount * 12 }
      % endif    
  - "Other income not listed above (enter details on the next screen)": user_annual_other
    datatype: yesnowide
    default: ${ showifdef('user_income_other') }
    help: |
      Examples of other income include:
      
        * Money from family or friends,
        * Spousal support, also called alimony,
        * Business or rental income,
        * Veterans benefits, or 
        * Military allowance.      
validation code: |
  if not (user_annual_none or user_annual_employment or user_annual_unemployment or user_annual_household or user_annual_ss or user_annual_child_support or user_annual_pension or user_annual_other):
    validation_error("Check at least one option.", field="user_annual_other")
---
id: user other income last year details
question: |
  % if filing_basis == "filing_self":
  What other income did you receive in the last 12 months?
  % else:
  What other income did ${ users[0].familiar() } receive in the last 12 months?
  % endif
subquestion: |
  List the amount of income you received before taxes.
fields:
  - "Type or source of income": user_annual_other_list[i].name.text
    maxlength: 25
  - "Total amount from past 12 months": user_annual_other_list[i].amount
    datatype: currency
    min: 0.01

---
id: any other income last year
question: |
  Any other income in the past 12 months?
subquestion: |
  The forms have space for **{certain types of income}** and up to 3 other sources of income.

  So far you have told us about:
  
  % if user_annual_employment:
   * $${thousands(user_annual_employment_amount, show_decimals=True)} from jobs or self-employment
  % endif
  % if user_annual_ss:
   * $${thousands(user_annual_ss_amount, show_decimals=True)} from Social Security (not SSI)
  % endif
  % if user_annual_child_support:
   * $${thousands(user_annual_child_support_amount, show_decimals=True)} from child support
  % endif
  % if user_annual_unemployment:
   * $${thousands(user_annual_unemployment_amount, show_decimals=True)} from Unemployment
  % endif
  % if user_annual_pension:
   * $${thousands(user_annual_pension_amount, show_decimals=True)} from pension
  % endif
  % if user_annual_household:
   * $${thousands(user_annual_household_amount, show_decimals=True)} from other household members
  % endif
  % for other_income in user_annual_other_list:
   * $${thousands(other_income.amount, show_decimals=True)} from ${other_income.name.text} 
  % endfor
fields:
  - "Add another source of income?": user_annual_other_list.there_is_another
    datatype: yesnoradio
---
code: |
  user_annual_other_list[i].name.text
  user_annual_other_list[i].amount
  user_annual_other_list[i].complete = True
---
code: |
  if user_annual_other_list.number_gathered() >= 3:
    user_annual_other_list.there_is_another = False
---
depends on:
  - user_annual_other_list[0].amount
  - user_annual_other_list[1].amount
  - user_annual_other_list[2].amount
  - user_annual_household_amount
  - user_annual_ss_amount
  - user_annual_employment_amount
  - user_annual_child_support_amount
  - user_annual_unemployment_amount'
  - user_annual_pension_amount 
code: |
  user_annual_total = sum_if_defined(
      'user_annual_child_support_amount',
      'user_annual_employment_amount',
      'user_annual_household_amount',
      'user_annual_pension_amount',
      'user_annual_ss_amount',
      'user_annual_unemployment_amount',
      'user_annual_other_list[0].amount',
      'user_annual_other_list[1].amount',
      'user_annual_other_list[2].amount'
  )

---
id: What expenses do you have right now
question: |
  % if filing_basis == "filing_self":
  What monthly expenses do you have right now?
  % else:
  What monthly expenses does ${ users[0].familiar() } have right now?
  % endif
subquestion: |
  Enter the amount that each expense costs **per month**.
  
  % if filing_basis == "filing_self":
  If you share expenses with someone, list only the amount you pay.
  % else:
  If ${ users[0].familiar() } shares expenses with someone, list only the amount that ${ users[0].familiar() } pays.
  % endif
fields:
  - label: |
      % if filing_basis == "filing_self":
      I do not have any expenses
      % else:
      ${ users[0].familiar() } does not have any expenses
      % endif
    field: user_expense_none
    datatype: yesnowide
    disable others: True
  - "Rent": user_expense_rent
    datatype: yesnowide    
  - "Amount": user_expense_rent_amount
    datatype: currency
    min: 0
    show if: user_expense_rent
  - "Home mortgage": user_expense_mortgage
    datatype: yesnowide
  - "Amount": user_expense_mortgage_amount
    datatype: currency
    min: 0
    show if: user_expense_mortgage
  - "Other mortgage": user_expense_other_mortgage
    datatype: yesnowide
  - "Amount": user_expense_other_mortgage_amount
    datatype: currency
    min: 0
    show if: user_expense_other_mortgage
  - "Utilities": user_expense_utilities
    datatype: yesnowide
  - "Amount": user_expense_utilities_amount
    datatype: currency
    min: 0
    show if: user_expense_utilities
  - "Food": user_expense_food
    datatype: yesnowide
  - "Amount": user_expense_food_amount
    datatype: currency
    min: 0
    show if: user_expense_food
  - "Medical expenses": user_expense_medical
    datatype: yesnowide
  - "Amount": user_expense_medical_amount
    datatype: currency
    min: 0
    show if: user_expense_medical
  - "Vehicle, including any loans": user_expense_car
    datatype: yesnowide
  - "Amount": user_expense_car_amount
    datatype: currency
    min: 0
    show if: user_expense_car
  - "Childcare": user_expense_childcare
    datatype: yesnowide
  - "Amount": user_expense_childcare_amount
    datatype: currency
    min: 0
    show if: user_expense_childcare
  - "Child support": user_expense_child_support
    datatype: yesnowide
  - "Amount": user_expense_child_support_amount
    datatype: currency
    min: 0
    show if: user_expense_child_support
  - "Other monthly expenses or loans not listed above": user_expense_other
    datatype: yesnowide
    help: |
      Examples of other expenses include:
      
        * Transportation costs like gas, car repairs, or bus passes,
        * Car insurance or other kinds of insurance,
        * Home maintenance,
        * Household supplies, or      
        * School fees.
        
      Examples of debt or loan payments include:
      
        * Credit card debt,
        * Student loans,
        * Payday loans, or
        * Loans from family or friends.
validation code: |
  if not (user_expense_none or user_expense_rent or user_expense_mortgage or user_expense_other_mortgage or user_expense_utilities or user_expense_food or user_expense_medical or user_expense_car or user_expense_childcare or user_expense_child_support or user_expense_other):
    validation_error("Check at least one option.", field="user_expense_other")
---
id: user other expenses details
question: |
  % if filing_basis == "filing_self":
  What other monthly expenses do you have right now?
  % else:
  What other monthly expenses does ${ users[0].familiar() } have right now?
  % endif
subquestion: |
  Enter the expense and the amount that it costs **per month**.
  
  % if filing_basis == "filing_self":
  If you share expenses with someone, list only the amount you pay.
  % else:
  If ${ users[0].familiar() } shares expenses with someone, list only the amount that ${ users[0].familiar() } pays.
  % endif
fields:
  - "Other monthly expense": user_expense_other_list[i].name.text
    maxlength: 25
  - "Amount": user_expense_other_list[i].amount
    datatype: currency
    min: 0.01
---
id: any other expenses
question: |
  Any other monthly expenses?
subquestion: |
  The forms have space for **{certain types of expenses}** and up to 3 other monthly expenses.

  So far you have told us about:
  
  % if user_expense_rent:
   * $${thousands(user_expense_rent_amount, show_decimals=True)} for rent
  % endif
  % if user_expense_mortgage:
   * $${thousands(user_expense_mortgage_amount, show_decimals=True)} for a home mortgage
  % endif
  % if user_expense_other_mortgage:
   * $${thousands(user_expense_other_mortgage_amount, show_decimals=True)} for another mortgage
  % endif
  % if user_expense_utilities:
   * $${thousands(user_expense_utilities_amount, show_decimals=True)} for utilities
  % endif
  % if user_expense_food:
   * $${thousands(user_expense_food_amount, show_decimals=True)} for food
  % endif
  % if user_expense_medical:
   * $${thousands(user_expense_medical_amount, show_decimals=True)} for medical expenses
  % endif
  % if user_expense_car:
   * $${thousands(user_expense_car_amount, show_decimals=True)} for vehicles, including loans
  % endif
  % if user_expense_childcare:
   * $${thousands(user_expense_childcare_amount, show_decimals=True)} for childcare
  % endif
  % if user_expense_child_support:
   * $${thousands(user_expense_child_support_amount, show_decimals=True)} for child support
  % endif
  % for other_expense in user_expense_other_list:
   * $${thousands(other_expense.amount, show_decimals=True)} for ${other_expense.name.text} 
  % endfor
fields:
  - "Add another expense?": user_expense_other_list.there_is_another
    datatype: yesnoradio
---
terms: 
  - "certain types of expenses": |
      These expenses are listed on the Fee waiver application:
      
       * Rent
       * Home mortgage
       * Other mortgage
       * Utilities
       * Food
       * Medical
       * Vehicle, including any loans
       * Childcare
       * Child support
---
code: |
  user_expense_other_list[i].name.text
  user_expense_other_list[i].amount
  user_expense_other_list[i].complete = True
---
code: |
  if user_expense_other_list.number_gathered() >= 3:
    user_expense_other_list.there_is_another = False
---
depends on:
  - user_expense_car_amount
  - user_expense_child_support_amount
  - user_expense_childcare_amount
  - user_expense_food_amount
  - user_expense_medical_amount
  - user_expense_mortgage_amount
  - user_expense_other_mortgage_amount
  - user_expense_rent_amount
  - user_expense_utilities_amount
  - user_expense_other_list[0].amount
  - user_expense_other_list[1].amount
  - user_expense_other_list[2].amount
code: |
  user_expense_total = sum_if_defined(
      'user_expense_car_amount',
      'user_expense_child_support_amount',
      'user_expense_childcare_amount',
      'user_expense_food_amount',
      'user_expense_medical_amount',
      'user_expense_mortgage_amount',
      'user_expense_other_mortgage_amount',
      'user_expense_rent_amount',
      'user_expense_utilities_amount',
      'user_expense_other_list[0].amount',
      'user_expense_other_list[1].amount',
      'user_expense_other_list[2].amount'
    )
---
depends on: filing_basis
code: |
  if filing_basis == "filing_self":
    i_or_they = "I"
    your_or_their = "your"
    you_or_they = "you"
    you_or_obo_name = "you"
    your_or_obo_possessive = "your"
    are_is = "are"
  else:
    i_or_they = "they"
    your_or_their = "their"
    you_or_they = "they"
    you_or_obo_name = users[0].familiar()
    your_or_obo_possessive = users[0].familiar() + "'s"
    are_is = "is"
#---
#sets: 
#  - signer[0].name.first
#  - signer[0].address.zip
#code: |
#  if filing_basis == "filing_self":
#    signer[0].name.first = users[0].name.first
#    signer[0].address.zip = users[0].address.zip
---
continue button field: ask_user_assets  
id: What assets do you have
question: |
  % if filing_basis == "filing_self":
  What assets do you have?
  % else:
  What assets does ${ users[0].familiar() } have?
  % endif
subquestion: |
  % if filing_basis == "filing_self":
  Assets are things you own, like money, your property, and other belongings.
  % else:
  Assets are things ${ users[0].familiar() } owns, like money, their property, and other belongings.
  % endif
fields:
  - "No assets": user_asset_none
    datatype: yesnowide
    disable others: True
  - "Bank account or cash": user_asset_bank_account
    datatype: yesnowide
  - "Amount": user_asset_bank_account_amount
    datatype: currency
    min: 0
    show if: user_asset_bank_account
  - "Home ${ i_or_they } live in": user_asset_home
    datatype: yesnowide
  - "Value": user_asset_home_amount
    datatype: currency
    min: 0
    show if: user_asset_home
  - "Amount owed on mortgage": user_asset_home_amount_owed
    datatype: currency
    min: 0
    show if: user_asset_home
  - "Other real estate": user_asset_other_real_estate
    datatype: yesnowide
  - "Value": user_asset_other_real_estate_amount
    datatype: currency
    min: 0
    show if: user_asset_other_real_estate
  - "Vehicle": user_asset_vehicle1
    datatype: yesnowide
  - "Vehicle is paid in full.": user_asset_vehicle1_paid
    datatype: yesno
    show if: user_asset_vehicle1
  - "Value": user_asset_vehicle1_amount
    datatype: currency
    min: 0
    show if: user_asset_vehicle1
  - "Second vehicle": user_asset_vehicle2
    datatype: yesno
    show if: user_asset_vehicle1
  - "Second vehicle is paid in full.": user_asset_vehicle2_paid
    datatype: yesno
    show if: user_asset_vehicle2    
  - "Value of second vehicle": user_asset_vehicle2_amount
    datatype: currency
    min: 0
    show if: user_asset_vehicle2
  - "Other assets not listed above": user_asset_other
    datatype: yesnowide
    help: |
      Examples of other assets include:
      
        * Stocks,
        * Bonds,
        * Jewelry, or      
        * Collectibles.
validation code: |
  if not (user_asset_none or user_asset_bank_account or user_asset_home or user_asset_other_real_estate or user_asset_vehicle1 or user_asset_other):
    validation_error("Check at least one option.", field="user_asset_other")
---
id: user other assets details
question: |
  % if filing_basis == "filing_self":
  What other asset you have?
  % else:
  What other asset does ${ users[0].familiar() } have?
  % endif
subquestion: |
  Enter the item and its value.
fields:
  - "Other asset": user_asset_other_list[i].name.text
    maxlength: 25
  - "Value": user_asset_other_list[i].amount
    datatype: currency
    min: 0.01

---
id: any other assets
question: |
  Any other assets?
subquestion: |
  The forms have space for **{certain types of assets}** and up to 3 other assets.

  So far you have told us about these assets:
  
  % if user_asset_bank_account:
   * Bank accounts or cash worth $${thousands(user_asset_bank_account_amount, show_decimals=True)}
  % endif
  % if user_asset_home:
   * A home ${you_or_they} live in worth $${thousands(user_asset_home_amount, show_decimals=True)}
  % endif
  % if user_asset_other_real_estate:
   * Other real estate (not including the home ${you_or_they} live in) worth $${thousands(user_asset_other_real_estate_amount, show_decimals=True)}
  % endif
  % if user_asset_vehicle1:
   * A vehicle worth $${thousands(user_asset_vehicle1_amount, show_decimals=True)}
  % if user_asset_vehicle2:
   * A second vehicle worth $${thousands(user_asset_vehicle2_amount, show_decimals=True)}
  % endif
  % endif
  % for other_asset in user_asset_other_list:
   * ${other_asset.name.text} worth $${thousands(other_asset.amount, show_decimals=True)}
  % endfor
fields:
  - "Add another asset?": user_asset_other_list.there_is_another
    datatype: yesnoradio
---
terms: 
  - "certain types of assets": |
      These assets are listed on the Fee waiver application:
      
       * Money in bank accounts or cash
       * A home
       * Other real estate
       * Vehicles

---
code: |
  user_asset_other_list[i].name.text
  user_asset_other_list[i].amount
  user_asset_other_list[i].complete = True
---
code: |
  if user_asset_other_list.number_gathered() >= 3:
    user_asset_other_list.there_is_another = False

---
depends on:
  - user_asset_bank_account_amount
  - user_asset_home_amount
  - user_asset_other_real_estate_amount
  - user_asset_vehicle1_amount
  - user_asset_vehicle2_amount
  - user_asset_other_list[0].amount
  - user_asset_other_list[1].amount
  - user_asset_other_list[2].amount
code: |
  user_asset_total = (sum_if_defined(
    'user_asset_bank_account_amount'
    'user_asset_home_amount'
    'user_asset_other_real_estate_amount'
    'user_asset_vehicle1_amount',
    'user_asset_vehicle2_amount',
    'user_asset_other_list[0].amount',
    'user_asset_other_list[1].amount',
    'user_asset_other_list[2].amount' ) - sum_if_defined('user_asset_home_amount_owed') )
---
depends on:
  - user_income_total
  - user_annual_total
code: |
  if user_has_dependents:
    household_size = 1 + user_dependents_adults + user_dependents_children
    last_month_income_qualifies = poverty_scale_income_qualifies(user_income_total, household_size=household_size, multiplier=1.25)
    last_year_income_qualifies = poverty_scale_income_qualifies(user_annual_total/12, household_size=household_size, multiplier=1.25)
  else:
    household_size = 1
    last_month_income_qualifies = poverty_scale_income_qualifies(user_income_total, multiplier=1.25)
    last_year_income_qualifies = poverty_scale_income_qualifies(user_annual_total/12, multiplier=1.25)    
---
id: show_qualification_guess
continue button field: show_qualification_guess
question: |
  % if last_month_income_qualifies or last_year_income_qualifies:
  % if filing_basis == "filing_self":
  You may qualify for a fee waiver
  % else:
  ${ users[0].familiar() } may qualify for a fee waiver
  % endif
  % else:
  % if filing_basis == "filing_self":
  You likely do not qualify for a fee waiver
  % else:
  ${ users[0].familiar() } likely does not qualify for a fee waiver
  % endif
  % endif
subquestion: |
  % if last_month_income_qualifies or last_year_income_qualifies:
  % if filing_basis == "filing_self":  
  #### Why we think that you qualify
  % else:
  #### Why we think ${ users[0].familiar() } qualifies
  % endif
  % else:
  % if filing_basis == "filing_self":
  #### Why we think that you do not qualify
  % else:
  #### Why we think ${ users[0].familiar() } does not qualify
  % endif
  % endif
  
  The judge will consider ${ your_or_their } income, assets, and expenses. Our prediction
  is based only on ${ your_or_their } income.
  
  For ${ your_or_their} household size, ${ your_or_their } monthly income needs to be at or below 
  ${ currency(poverty_scale_get_income_limit(household_size=household_size, multiplier=1.25)/12) }.
  
  You said that ${ your_or_their } income over the last month was 
  ${ currency(user_income_total) }.
  
  You said that ${ your_or_their} income over the last 12 months was 
  ${ currency(user_annual_total) } (${ currency(user_annual_total/12) }
  per month).
  
  The judge will also consider ${ your_or_their } total assets of ${ currency(user_asset_total) }
  and ${ your_or_their } total monthly expenses of ${ currency(user_expense_total) }. 
  
  #### A judge makes the final decision
  This website cannot tell you if ${ you_or_they } qualify for sure. The judge will
  consider all of the information you provide.
  
  ${ collapse_template(other_fee_waiver_considerations) }  

---
template: other_fee_waiver_considerations
subject: |
  **What else the judge will consider**
content: |  
  The judge will look at all of the information that you provide on the Fee waiver application
  to decide if ${ you_or_they } qualify. For example, the judge will compare ${ your_or_their }
  assets and expenses. They will also read any additional explanation that you
  decide to provide.
  
  Some of ${ your_or_their } assets will not be counted. For example: the value of ${ your_or_their } car,
  up to $2,400, is not counted. A person can have up to $4,000 in other assets,
  such as bank accounts, that are not counted. The assets that are not
  counted are set by law: specifically, 
  [735 ILCS 5/12-901](https://www.ilga.gov/legislation/ilcs/fulltext.asp?DocName=073500050K12-1001)
  and [735 ILCS 5/12-1001](https://www.ilga.gov/legislation/ilcs/fulltext.asp?DocName=073500050K12-901).
  
  The judge may decide that ${ you_or_they } qualify for a partial redicution in court fees even if ${ you_or_they } do not qualify for a full waiver.
---
id: Who is filing this fee waiver
question: |
  Whose court case is this fee waiver for?
fields:
  - I am filing: filing_basis
    datatype: radio
    choices:
      - For myself: filing_self
      - On behalf of a minor (someone under 18) or an incompetent adult: filing_on_behalf_of      
  - note: |
      Okay. List **your name** below. 
    show if: 
      variable: filing_basis
      is: filing_on_behalf_of      
  - First name: signer[0].name.first
    show if: 
      variable: filing_basis
      is: filing_on_behalf_of
  - Middle name: signer[0].name.middle
    required: False
    show if: 
      variable: filing_basis
      is: filing_on_behalf_of
  - Last name: signer[0].name.last
    show if: 
      variable: filing_basis
      is: filing_on_behalf_of
  - Suffix: signer[0].name.suffix
    required: False
    code: |
      name_suffix()
    show if: 
      variable: filing_basis
      is: filing_on_behalf_of        
  - Attorney number (if any): signer_attorney_number      
    required: False
    show if: 
      variable: filing_basis
      is: filing_on_behalf_of
    help: |
      If you are an attorney licensed in Illinois, you can enter your number if filing on behalf of another person. Some jurisdictions like Cook or DuPage County require a firm or an individual attorney number.
#  - How are you related to the filer?: relationship_to_minor
#    maxlength: 33
#    show if: 
#      variable: filing_basis
#      is: filing_on_behalf_of
---
id: Do you agree to get notices from the court by email
question: |
  Do you agree to get notices from the court by email?
yesno: user_consents_email_notice
---
id: your contact information
generic object: ALIndividual
question: |
  What is your contact information?
subquestion: |
  The court or other parties might need to contact you about this case.

  **This information will appear on your court forms.**
  
  If you do not want to list a phone number on your forms, leave it blank.

  If you have an email address, you must list it. Be sure to check your email daily, otherwise you may miss important court documents or information about your case.

  ${ collapse_template(contact_info_help) }  
fields:  
  - Phone number: x.phone_number
    datatype: al_international_phone
    required: False
  - label: |
      Do you have an email address?
    field: x.has_email_address      
    datatype: yesnoradio
  - note: |
      This email address will appear on your court forms. Be sure to check 
      this email daily, otherwise you may miss important information about 
      your case.
    show if: x.has_email_address      
  - Email address: x.email    
    datatype: email
    show if: 
      variable: x.has_email_address
      is: True
---
template: contact_info_help
subject: |
  **What if I don't want to list my email address?**
content: |  
  If you do not want to enter your personal email address, you can create a new email account to get email about your case.
  
  To make a new email account try one of these email services:
  
  * [**Gmail**](https://accounts.google.com/SignUp)
  * [**Outlook**](https://outlook.live.com/owa/?nlp=1&signup=1)
  * [**Yahoo**](https://login.yahoo.com/account/create?.lang=en-US&.intl=us)
---
id: substantial hardship
question: |
  % if filing_basis == "filing_self":
  Will paying court fees be hard for you or your family?
  % else:
  Will paying court fees be hard for ${ users[0].familiar() } or their family?
  % endif
subquestion: |
  % if filing_basis == "filing_self":
  If you want to explain to a judge why you would be harmed if you do not
  get a fee waiver, you can explain it here. This is optional.
  
  Complete this sentence:
  
  **It would be a substantial hardship for me or my family if I have to pay the fees, costs, and charges because:**
  % else:
  If you want to explain to the judge why ${ users[0].familiar() } would be 
  harmed if they do not get a fee waiver, you can explain it here. This is optional.
  
  Complete this sentence:
  
  **It would be a substantial hardship for ${ users[0].familiar() } or their family if they have to pay the fees, costs, and charges because:**
  % endif
fields:
  - no label: substantial_hardship_explanation
    datatype: area
    rows: 16
    maxlength: 1000
    required: False
  - note: |
      The form has room for about **1,000 characters** including spaces.
---
id: any other users
question: |
  % if al_form_type in ['starts_case','existing_case','appeal']:
    Is anyone else on ${ your_or_obo_possessive } side of this case?
  % else:
    % if filing_basis == "filing_self":
    Is anyone else adding their name to this form with you?
    % else:
    Is anyone else adding their name to this form with ${ users[0].familiar() }?
    % endif
  % endif
subquestion: |
  % if len(users.elements) > 1:  
  So far you have told us about ${users.full_names()}.
  % endif  
yesno: users.there_is_another 
---
sets:
  - users[i].name.first
id: other users names
question: |
  % if al_form_type in ['starts_case','existing_case','appeal']:
    % if filing_basis == "filing_self":
    What is the name of the ${ ordinal(i) } person who is part of the case with you?
    % else:
    What is the name of the ${ ordinal(i) } person who is part of the case with ${ users[0].familiar() }?
    % endif
  % else:
    % if filing_basis == "filing_self":
    What is the name of the ${ ordinal(i) } person who is adding their name to this form with you?
    % else:
    What is the name of the ${ ordinal(i) } person who is adding their name to this form with ${ users[0].familiar() }?
    % endif
  % endif
subquestion: |
  ${ collapse_template(long_name_help) }
fields:
  - code: |
      users[i].name_fields(person_or_business='unsure')
---
template: long_name_help
subject: |
  **What if I need more space?**
content: |
  If the party has a long name like "Jane Smith, Director of Housing," select **Business or organization**. You can then enter the full name and title.
---
id: is there an opposing party?
question: |
  % if al_form_type in ['starts_case','existing_case','appeal'] and user_started_case:
  Is there a **defendant** or respondent in this case? 
  % elif al_form_type in ['starts_case','existing_case','appeal']:
  Is there a **plaintiff** or petitioner in this case?
  % else:
  Is there someone on the other side of your dispute?
  % endif
subquestion: |
  % if al_form_type in ['starts_case','existing_case','appeal'] and user_started_case:
  Answer yes if there is a person or organization ${ you_or_obo_name } ${ are_is } suing or taking to court.
  % elif al_form_type in ['starts_case','existing_case','appeal']:
  You should be able to find out from the paperwork that told ${ you_or_obo_name } to 
  go to court.

  Answer yes if someone else has sued ${ you_or_obo_name } or is bringing ${ you_or_obo_name } to court.
  % endif
yesno: other_parties.there_are_any
---
id: any other opposing parties
question: |
  % if user_role == "plaintiff":
  Is there another **defendant** or **respondent** in this case?
  % else:
  Is there another **plaintiff** or **petitioner** in this case?
  % endif
subquestion: |
  % if len(other_parties.elements) >= 1:  
  So far you have told us about ${other_parties.full_names()}.
  % endif
fields:
  - "Anyone else?": other_parties.there_is_another
    datatype: yesnoradio
---
id: names of opposing parties
sets:
  - other_parties[i].name.first
  - other_parties[i].name.last
  - other_parties[i].name.middle
  - other_parties[i].name.suffix
question: |
  % if user_role == "plaintiffs":
  What is the name of the ${ ordinal(i) } **defendant** or **respondent** in this
  case?
  % else:
  What is the name of the ${ ordinal(i) } **plaintiff** or **petitioner** in this case?
  % endif
subquestion: |
  ${ collapse_template(long_name_help) }
fields:
  - code: |
      other_parties[i].name_fields(person_or_business='unsure')
---
id: address
#generic object: ALIndividual
sets:
  - users[0].address.address
  - users[0].address.city
  - users[0].address.zip
question: |
  % if filing_basis == "filing_self":
    What is your address?
  % else:
    What is ${ users[0].familiar() }'s address?
  % endif
fields:
  - Street address: users[0].address.address
    address autocomplete: True
  - Address line 2: users[0].address.unit
    required: False
  - City: users[0].address.city
  - State: users[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: users[0].address.zip    
---
id: in re check
question: |
 Does the court case have the words "**In re:**" in the name?
subquestion: |
  Look at the name of the case at the top of the court papers. "In re" is often used in probate, guardianship, and some family law cases. For example, a probate case regarding Jane Doe’s estate might be called "In re: Estate of Jane Doe."
  
  **Note:** If the court papers say "In re:" but also list the names of people in the case, you can select **No**. For example, if the case title is "In re: Marriage of Julia Smith and Tony Smith," the names you already entered will be put on your forms. 
fields:
  - no label: in_re_check
    datatype: yesnoradio
---
id: in re label
question: |
  What does it say after "**In re:**" on the court papers?
subquestion: |
  For example, the case could be called "In re: The Will of Elena Black."
fields:
  - In re:: in_re_label
    maxlength: 50
---
id: signer address
#generic object: ALIndividual
sets:
  - signer[0].address.address
  - signer[0].address.city
  - signer[0].address.zip
question: |
  What is your address?
fields:
  - Street address: signer[0].address.address
    address autocomplete: True
  - Address line 2: signer[0].address.unit
    required: False
  - City: signer[0].address.city
  - State: signer[0].address.state
    code: |
      states_list()
    default: IL      
  - ZIP code: signer[0].address.zip    
---
id: docket number
question: |
  What is ${ your_or_obo_possessive } case number?
subquestion: |
  The case number will be listed on ${ your_or_obo_possessive } court papers. The Circuit Clerk gives each case a number when it is filed. If nothing has been filed yet, check the box.

  ${ collapse_template(case_number_help) }  
fields:
  - I don't know the case number: dont_know_docket_number
    datatype: yesno    
  - Case number: docket_number
    hide if: dont_know_docket_number
validation code: |
  # This should be safe to 
  if dont_know_docket_number:
    docket_number = ''      
---
template: case_number_help
subject: |
  **Where can I find this?**
content: |  
  The case number should be on your court papers. Look at the Complaint or Petition, or the Summons if you received one. It is usually in the top-right part of the first page.
  
  If you started the case, the court clerk should have given you the case number.
  
  In this example, the case number is **2022 EXAMPLE 123**.
  
  [FILE case_number_example.png, 100%, Summons form showing case number]
---
id: e-signature
question: |
  Do you want to add your e-signature to your ${ form_name }?
subquestion: |
  % if filing_basis != "filing_self":          
  This program can put "**/s/ ${signer[0].name_full()}**" where you would sign your name. The court will accept this as your signature.
  % else:
  This program can put "**/s/ ${users[0].name_full()}**" where you would sign your name. The court will accept this as your signature.
  % endif

  If you do not add your **{e-signature}**, you must sign your paper form before you file it.

  <div class="alert alert-info ilao-info" role="alert">
    <h6 class="alert-heading">What it means to sign your forms</h6>
    <p>By signing your <i>Application for Waiver of Court Fees</i>, you are certifying that:</p>
    <p><ul>
      <li>Everything on the forms is true and correct, and</li>
      <li>You understand that making a false statement on the form is perjury, which can result in criminal penalties.</li>
    </ul></p>
  <p>See the <a href="https://www.ilga.gov/legislation/ilcs/documents/073500050k1-109.htm"><b>Code of Civil Procedure, 735 ILCS 5/1-109</b></a> for more information.</p>
  </div>
fields:
  - "Add e-signature?": e_signature
    datatype: yesnoradio
terms:
  - "e-signature": |
      An e-signature is an electronic signature. It is a digital version of a signature that has the same effect as a hand-written signature. 
---
id: signature choice
decoration: file-signature
question: |
  Sign your forms
subquestion: |
  Your forms are almost ready. 
  
  You need to sign your forms before you file. You can:
  
  * Sign with your finger on a smartphone,
  * Sign with the mouse or touchpad on your computer,
  * Add your name as an e-signature **(recommended)**, or
  * Sign the forms by hand after you download and print.
field: signature_choice
buttons:  
  - Sign on my phone: phone
    image: mobile-alt
  - Sign on this device: this device
    image: desktop
  - Just add my name: add name
    image: keyboard
  - Sign later: no signature
    image: print
continue button field: saw_signature_choice
script: |
  <script>
    $(".da-field-buttons > div > .btn-da-custom").last().after("<br>")
    $(".da-field-buttons > div > .btn-da-custom").first().before("<br>")
  </script>
---
code: |
  signature_fields = ['users[0].signature']
---
depends on:
  - signature_choice
id: persons signature
question: |
  % if filing_basis == "filing_self":
    ${ users[0].familiar() }, please sign in the box below
  % else:
    ${ signer[0].familiar() }, please sign in the box below
  % endif
signature: users[0].signature
under: |
  % if filing_basis == "filing_self":
    ${ users[0].name_full() }
  % else:
    ${ signer[0].name_full() }
  % endif
---
id: court choice
question: |
  If the judge has questions about the Fee waiver application, how do you want to attend court?
subquestion: |
  You might already have a court date scheduled in your case.
  
  Some courts may schedule a separate court date to ask for more information about your Fee waiver application. You might not get your choice, but you can say if you want to attend court for the fee waiver remotely or in person. 

  The Circuit Clerk should give you details about how to attend court. 
fields:
  - no label: court_choice
    datatype: radio
    choices:
      - I want a remote court date (video or telephone).: remote
      - I want an in-person court date.: person
---
id: bring documents
continue button field: bring_docs
question: |
  Supporting documents
subquestion: |
  After you file your Fee waiver application, a judge will review it. If they have questions, you may need to give more information or documentation. For example, you may be asked to show:
  
  * Proof of public benefits received,
  * Proof of income, and
  * The value of any belongings.
  
  **Note:** Some courts require that you submit proof of benefits or income when you file your Fee waiver application. If you are e-filing, you may need to upload proof of benefits or income.
  
  Ask your Circuit Clerk what they require. You can look up how to contact them on the [**Illinois Courts website**](https://www.illinoiscourts.gov/courts-directory/interactive-map/by-court-type).
  
  If you have a court date for your Fee waiver application, be sure to bring whatever documentation is requested.

---
id: IL fee waiver review screen
event: review_IL_fee_waiver
question: |
  Review your answers
review:
  - Edit: plaintiffs.revisit
    button: |
      **Plaintiffs / Petitioners**

      % for item in plaintiffs:
        * ${ item.name_full() }
      % endfor
  - Edit: defendants.revisit
    button: |
      **Defendants / Respondents**

      % for item in defendants:
        * ${ item.name_full() }
      % endfor
  - Edit: 
      - trial_court_index
      - recompute:
        - trial_court
    button: |
      **County where this case is filed:**
      ${ trial_court }
  - Edit: docket_number
    button: |
      **Case number**:
      ${ docket_number }
  - Edit: user_has_dependents
    button: |
      **Do you support any household members?**
      ${ word(yesno(user_has_dependents))}
  - Edit: user_dependents_adults
    button: |
      **Number of adult dependents**:
      ${ user_dependents_adults }
    show if: user_has_dependents
  - Edit: user_dependents_children
    button: |
      **Number of minor dependents**:
      ${ user_dependents_children }
    show if: user_has_dependents
  - Edit:
      - user_benefits
      - recompute:
        - user_receives_benefits
    button: |
      **Receives public benefits**:
      ${ word(yesno(user_benefits.any_true())) }
  - Edit: user_applied_for_benefits
    button: |
      **Applied for public benefits**:
      ${ word(yesno(user_applied_for_benefits.any_true())) }
  - Edit: user_income_employment
    button: |
      **Employment income (last month)**:
      ${ word(yesno(user_income_employment)) }
  - Edit: user_income_employment_amount
    button: |
      **Employment income amount (last month)**:
      ${ currency(user_income_employment_amount) }
  - Edit: user_income_unemployment
    button: |
      **Unemployment benefits (last month)**:
      ${ word(yesno(user_income_unemployment)) }
  - Edit: user_income_unemployment_amount
    button: |
      **Unemployment benefits amount (last month)**:
      ${ currency(user_income_unemployment_amount) }
  - Edit: user_income_household
    button: |
      **Income from household members (last month)**:
      ${ word(yesno(user_income_household)) }
  - Edit: user_income_household_amount
    button: |
      **Household member income amount (last month)**:
      ${ currency(user_income_household_amount) }
  - Edit: user_income_ss
    button: |
      **Social Security income (last month)**:
      ${ word(yesno(user_income_ss)) }
  - Edit: user_income_ss_amount
    button: |
      **Social Security income amount (last month)**:
      ${ currency(user_income_ss_amount) }
  - Edit: user_income_child_support
    button: |
      **Child support income (last month)**:
      ${ word(yesno(user_income_child_support)) }
  - Edit: user_income_child_support_amount
    button: |
      **Child support amount (last month)**:
      ${ currency(user_income_child_support_amount) }
  - Edit: user_income_pension
    button: |
      **Pension (last month)**:
      ${ word(yesno(user_income_pension)) }
  - Edit: user_income_pension_amount
    button: |
      **Pension amount (last month)**:
      ${ currency(user_income_pension_amount) }
  - Edit: user_income_other
    button: |
      **Other income (last month)**:
      ${ word(yesno(user_income_other)) }
  - Edit: user_income_other_list.revisit
    button: |
      **Other income from last month (Edit to change details):**

      % for my_var in user_income_other_list:
      * $${thousands(my_var.amount, show_decimals=True)} from ${my_var.name.text}
      % endfor
    show if: user_income_other
  - Edit: user_income_none
    button: |
      **No income (last month)**:
      ${ word(yesno(user_income_none)) }
  - Edit: 
      - user_income_none
      - recompute:
        - user_income_total
    button: |
      **Total income (last month)**:
      ${ currency(user_income_total) }
  - Edit: user_annual_employment
    button: |
      **Annual income from work**:
      ${ word(yesno(user_annual_employment)) }
  - Edit: user_annual_employment_amount
    button: |
      **Work income amount (last year)**:
      ${ currency(user_annual_employment_amount) }
  - Edit: user_annual_unemployment
    button: |
      **Annual unemployment**:
      ${ word(yesno(user_annual_unemployment)) }
  - Edit: user_annual_unemployment_amount
    button: |
      **Unemployment benefits amount (last year)**:
      ${ currency(user_annual_unemployment_amount) }
  - Edit: user_annual_household
    button: |
      **Annual household income**:
      ${ word(yesno(user_annual_household)) }
  - Edit: user_annual_household_amount
    button: |
      **Household income amount (last year)**:
      ${ currency(user_annual_household_amount) }
  - Edit: user_annual_ss
    button: |
      **Annual Social Security**:
      ${ word(yesno(user_annual_ss)) }
  - Edit: user_annual_ss_amount
    button: |
      **Social Security income amount (last year)**:
      ${ currency(user_annual_ss_amount) }
  - Edit: user_annual_child_support
    button: |
      **Annual child support**:
      ${ word(yesno(user_annual_child_support)) }
  - Edit: user_annual_child_support_amount
    button: |
      **Child support amount (last year)**:
      ${ currency(user_annual_child_support_amount) }
  - Edit: user_annual_pension
    button: |
      **Annual pension**:
      ${ word(yesno(user_annual_pension)) }
  - Edit: user_annual_pension_amount
    button: |
      **Pension amount (last year)**:
      ${ currency(user_annual_pension_amount) }
  - Edit: user_annual_other
    button: |
      **Other income (last 12 months)?**
      ${ word(yesno(user_annual_other)) }
  - Edit: user_annual_other_list.revisit
    button: |
      **Other income from last year (Edit to change details):**

      % for my_var in user_annual_other_list:
      * $${thousands(my_var.amount, show_decimals=True)} from ${my_var.name.text}
      % endfor
    show if: user_annual_other
  - Edit: user_annual_none
    button: |
      **No income (last 12 months)**:
      ${ word(yesno(user_annual_none)) }
  - Edit:
      - user_annual_none
      - recompute:
        - user_annual_total
    button: |
      **Total income (last 12 months)**:
      ${ currency(user_annual_total) }
  - Edit: user_expense_rent
    button: |
      **Rent**:
      ${ word(yesno(user_expense_rent)) }
  - Edit: user_expense_rent_amount
    button: |
      **Rent amount**:
      ${ currency(user_expense_rent_amount) }
  - Edit: user_expense_mortgage
    button: |
      **Mortgage for home**:
      ${ word(yesno(user_expense_mortgage)) }
  - Edit: user_expense_mortgage_amount
    button: |
      **Home mortgage mount**:
      ${ currency(user_expense_mortgage_amount) }
  - Edit: user_expense_other_mortgage
    button: |
      **Other mortgage**:
      ${ word(yesno(user_expense_other_mortgage)) }
  - Edit: user_expense_other_mortgage_amount
    button: |
      **Other mortgage amount**:
      ${ currency(user_expense_other_mortgage_amount) }
  - Edit: user_expense_utilities
    button: |
      **Utilities**:
      ${ word(yesno(user_expense_utilities)) }
  - Edit: user_expense_utilities_amount
    button: |
      **Utilities amount**:
      ${ currency(user_expense_utilities_amount) }
  - Edit: user_expense_food
    button: |
      **Food**:
      ${ word(yesno(user_expense_food)) }
  - Edit: user_expense_food_amount
    button: |
      **Food amount**:
      ${ currency(user_expense_food_amount) }
  - Edit: user_expense_medical
    button: |
      **Medical expenses**:
      ${ word(yesno(user_expense_medical)) }
  - Edit: user_expense_medical_amount
    button: |
      **Medical expenses amount**:
      ${ currency(user_expense_medical_amount) }
  - Edit: user_expense_car
    button: |
      **Car loan**:
      ${ word(yesno(user_expense_car)) }
  - Edit: user_expense_car_amount
    button: |
      **Car loan amount**:
      ${ currency(user_expense_car_amount) }
  - Edit: user_expense_childcare
    button: |
      **Childcare**:
      ${ word(yesno(user_expense_childcare)) }
  - Edit: user_expense_childcare_amount
    button: |
      **Childcare amount**:
      ${ currency(user_expense_childcare_amount) }
  - Edit: user_expense_child_support
    button: |
      **Child support**:
      ${ word(yesno(user_expense_child_support)) }
  - Edit: user_expense_child_support_amount
    button: |
      **Child support amount**:
      ${ currency(user_expense_child_support_amount) }
  - Edit: user_expense_other
    button: |
      **Other expenses?**
      ${ word(yesno(user_expense_other)) }
  - Edit: user_expense_other_list.revisit
    button: |
      **Other monthly expenses (Edit to change details):**

      % for my_var in user_expense_other_list:
      * $${thousands(my_var.amount, show_decimals=True)} for ${my_var.name.text}
      % endfor
    show if: user_expense_other
  - Edit: user_expense_none
    button: |
      **No expenses**:
      ${ word(yesno(user_expense_none)) }
  - Edit: user_expense_total
    button: |
      **Total expenses**:
      ${ currency(user_expense_total) }
  - Edit: user_asset_bank_account
    button: |
      **Bank account or cash**:
      ${ word(yesno(user_asset_bank_account)) }
  - Edit: user_asset_bank_account_amount
    button: |
      **Bank account or cash amount**:
      ${ currency(user_asset_bank_account_amount) }
  - Edit: user_asset_home
    button: |
      **House**:
      ${ word(yesno(user_asset_home)) }
  - Edit: user_asset_home_amount
    button: |
      **House value**:
      ${ currency(user_asset_home_amount) }
  - Edit: user_asset_home_amount_owed
    button: |
      **Amount owed on mortgage**:
      ${ currency(user_asset_home_amount_owed) }
  - Edit: user_asset_other_real_estate
    button: |
      **Other real estate**:
      ${ word(yesno(user_asset_other_real_estate)) }
  - Edit: user_asset_other_real_estate_amount
    button: |
      **Other real estate value**:
      ${ currency(user_asset_other_real_estate_amount) }
  - Edit: user_asset_other_real_estate_amount_owed
    button: |
      **Amount owed on other real estate mortgage**:
      ${ currency(user_asset_other_real_estate_amount_owed) }
  - Edit: user_asset_vehicle1
    button: |
      **Vehicle**:
      ${ word(yesno(user_asset_vehicle1)) }
  - Edit: user_asset_vehicle1_amount
    button: |
      **Vehicle value**:
      ${ currency(user_asset_vehicle1_amount) }
  - Edit: user_asset_vehicle1_paid
    button: |
      **Vehicle is paid in full**:
      ${ word(yesno(user_asset_vehicle1_paid)) }
  - Edit: user_asset_vehicle2
    button: |
      **Second vehicle**:
      ${ word(yesno(user_asset_vehicle2)) }
  - Edit: user_asset_vehicle2_amount
    button: |
      **Second vehicle value**:
      ${ currency(user_asset_vehicle2_amount) }
    show if: user_asset_vehicle2
  - Edit: user_asset_vehicle2_paid
    button: |
      **Second vehicle is paid in full**:
      ${ word(yesno(user_asset_vehicle2_paid)) }
    show if: user_asset_vehicle2
  - Edit: user_asset_other_amount
    button: |
      **Other assets value**:
      ${ currency(user_asset_other_amount) }
  - Edit: user_asset_other
    button: |
      **Other assets?**
      ${ word(yesno(user_asset_other)) }
  - Edit: user_asset_other_list.revisit
    button: |
      **Other monthly assets (Edit to change details):**

      % for my_var in user_asset_other_list:
      * ${my_var.name.text} worth $${thousands(my_var.amount, show_decimals=True)} 
      % endfor
    show if: user_asset_other
  - Edit: user_asset_none
    button: |
      **No assets**:
      ${ word(yesno(user_asset_none)) }
  - Edit: substantial_hardship_explanation
    button: |
      **Substantial hardship because**:
      > ${ substantial_hardship_explanation }
  #- Edit: trial_court
  #  button: |
  #    **trial_court**
  #
  #    % if defined("trial_court.address.county"):
  #    * address: ${ trial_court.address.block() }
  #    % endif
  - Edit: users[0].address.address
    button: |
      % if filing_basis != "filing_self":
      **${ users[0].familiar() }'s address:**
      % else:
      **Your address:**
      % endif
      ${ users[0].address.on_one_line(bare=True) }
  - Edit: users[0].birth_year
    button: |
      % if filing_basis != "filing_self":
      **${ users[0].familiar() }'s birth year:**
      % else:
      **Your birth year:**
      % endif
      ${ users[0].birth_year }
  - Edit: signer[0].address.address
    button: |
      **Your address:**
      ${ signer[0].address.on_one_line(bare=True) }
    show if: filing_basis != "filing_self"
  - Edit: signer[0].phone_number
    button: |
      **Your phone number**:
      ${ signer[0].phone_number }      
  - Edit: users[0].phone_number
    button: |
      **Your phone number**:
      % if filing_basis != "filing_self":
      ${ signer[0].phone_number }      
      % else:
      ${ users[0].phone_number }      
      % endif
  - Edit: signer[0].has_email_address
    button: |
      **Do you have an email address?**:
      ${ word(yesno(signer[0].has_email_address)) }
  - Edit: users[0].has_email_address
    button: |
      **Do you have an email address?**:
      % if filing_basis != "filing_self":
      ${ word(yesno(signer[0].has_email_address)) }
      % else:
      ${ word(yesno(users[0].has_email_address)) }
      % endif
  - Edit: signer[0].email
    button: |
      **Your email**:
      ${ signer[0].email }      
  - Edit: users[0].email
    button: |
      **Your email**:
      % if filing_basis != "filing_self":
      ${ signer[0].email }      
      % else:
      ${ users[0].email }      
      % endif
  - Edit: 
    - signature_choice
    - recompute:
          - basic_questions_signature_flow
    button: |
      **Signature choice**:
      % if (signature_choice == "phone") or (signature_choice == "this device"):
      ${ signature_choice.capitalize() }      
      % elif signature_choice == "add name":
      % if filing_basis == "filing_self":
      ${ "Add /s/ " + users[0].name_full() }
      % else:
      ${ "Add /s/ " + signer[0].name_full() }
      % endif
      % elif signature_choice == "no signature":
      ${ "Leave blank and sign later" }
      % endif
  - Edit: court_choice
    button: |
      **If the judge has questions about your Fee waiver application, you want to attend court:**
      
      % if court_choice == 'remote':
      * Remotely (by video or telephone)
      % endif
      % if court_choice == 'person':
      * In person
      % endif
      
#  - Edit: users[0].signature
#    label: Edit
#    fields:
#      - recompute:
#          - users[0].signature
#    button: |
#      **Signature**:
#      ${ users[0].signature }      
#      
# added above 3 buttons back after fix

  #- Edit: users.revisit
  #  button: |
  #    **users**
  #
  #    % for item in users:
  #      * ${ item }
  #    % endfor
  #- Edit: signer.revisit
  #  button: |
  #    **signer**
  #
  #    % for item in signer:
  #      * ${ item }
  #    % endfor
---
id: edit plaintiffs review screen
continue button field: plaintiffs.revisit
question: |
  Edit plaintiffs
subquestion: |
  ${ plaintiffs.table }

  ${ plaintiffs.add_action() }
---
table: plaintiffs.table
rows: plaintiffs
columns:
  - name: |
      row_item.name_full() if defined("row_item.name.first") else ""
edit:
  - name.first
confirm: True

---
id: edit defendants review screen
continue button field: defendants.revisit
question: |
  Edit defendants
subquestion: |
  ${ defendants.table }

  ${ defendants.add_action() }
---
table: defendants.table
rows: defendants
columns:
  - name: |
      row_item.name_full() if defined("row_item.name.first") else ""
edit:
  - name.first
confirm: True

---
id: edit users review screen
continue button field: users.revisit
question: |
  Edit users
subquestion: |
  ${ users.table }

  ${ users.add_action() }
---
table: users.table
rows: users
columns:
  - Name: |
      row_item.name_full() if defined("row_item.name.first") else ""
edit:
  - name.first
confirm: True
---
table: other_parties.table
rows: other_parties
columns:
  - Name: |
      row_item.name_full() if defined("row_item.name.first") else ""
edit:
  - name.first
confirm: True
---
id: edit signer review screen
continue button field: signer.revisit
question: |
  Edit signer
subquestion: |
  ${ signer.table }

  ${ signer.add_action() }
---
table: signer.table
rows: signer
columns:
  - address: |
      row_item.address.block() if defined("row_item.address.address") else ""
  - phone_number: |
      row_item.phone_number if defined("row_item.phone_number") else ""
edit:
  - address.address
  - phone_number
confirm: True
---
id: other monthly income revisit review screen
section: Income
continue button field: user_income_other_list.revisit
question: |
  Edit other income from last month
subquestion: |
  ${ user_income_other_list.table }

  % if user_income_other_list.number_gathered() < 3:
  ${ user_income_other_list.add_action() }
  % endif
---
table: user_income_other_list.table
rows: user_income_other_list
columns:
  - Income source: |
      row_item.name.text if defined("row_item.name.text") else ""
  - Amount: |
      "$" + str(thousands(row_item.amount, show_decimals=True)) if defined("row_item.name.text") else ""
edit:
  - name.text
delete buttons: True
confirm: True
---
id: other annual income revisit review screen
continue button field: user_annual_other_list.revisit
section: Income
question: |
  Edit other income from last 12 months
subquestion: |
  ${ user_annual_other_list.table }

  % if user_annual_other_list.number_gathered() < 3:
  ${ user_annual_other_list.add_action() }
  % endif
---
table: user_annual_other_list.table
rows: user_annual_other_list
columns:
  - Income source: |
      row_item.name.text if defined("row_item.name.text") else ""
  - Amount: |
      "$" + str(thousands(row_item.amount, show_decimals=True)) if defined("row_item.name.text") else ""
edit:
  - name.text
delete buttons: True
confirm: True
---
id: other expenses revisit review screen
section: Expenses
continue button field: user_expense_other_list.revisit
question: |
  Edit other monthly expenses
subquestion: |
  ${ user_expense_other_list.table }

  % if user_expense_other_list.number_gathered() < 3:
  ${ user_expense_other_list.add_action() }
  % endif
---
table: user_expense_other_list.table
rows: user_expense_other_list
columns:
  - Expense: |
      row_item.name.text if defined("row_item.name.text") else ""
  - Amount: |
      "$" + str(thousands(row_item.amount, show_decimals=True)) if defined("row_item.name.text") else ""
edit:
  - name.text
delete buttons: True
confirm: True
---
id: other assets revisit review screen
section: Assets
continue button field: user_asset_other_list.revisit
question: |
  Edit other assets
subquestion: |
  ${ user_asset_other_list.table }

  % if user_asset_other_list.number_gathered() < 3:
  ${ user_asset_other_list.add_action() }
  % endif
---
table: user_asset_other_list.table
rows: user_asset_other_list
columns:
  - Asset: |
      row_item.name.text if defined("row_item.name.text") else ""
  - Value: |
      "$" + str(thousands(row_item.amount, show_decimals=True)) if defined("row_item.name.text") else ""
edit:
  - name.text
delete buttons: True
confirm: True

---
objects:
  - IL_fee_waiver_Post_interview_instructions: ALDocument.using(title="Fee waiver instructions", filename="Fee waiver instructions.pdf", has_addendum=False)
  - IL_fee_waiver_attachment: ALDocument.using(title="Fee waiver application", filename="Fee waiver application.pdf", has_addendum=False)
  - IL_fee_waiver_supplement: ALDocument.using(title="Winnebago Supplement", filename="Winnebago supplement.pdf", has_addendum=False)
  - IL_fee_waiver_order: ALDocument.using(title="Fee waiver order", filename="Fee waiver order.pdf", has_addendum=False)
---
objects:
  - IL_fee_waiver_full_for_user: ALDocumentBundle.using(elements=[IL_fee_waiver_attachment, IL_fee_waiver_supplement], title="Fee Waiver Application", filename="Fee_waiver_full_application.pdf", enabled=True)
  - IL_fee_waiver_full_for_court: ALDocumentBundle.using(elements=[IL_fee_waiver_attachment], title="Fee Waiver Application", filename="Fee_waiver_full_application.pdf", enabled=True)
---
if: can_check_efile
code: |
  IL_fee_waiver_full_for_court.filing_type_filters = [
      'Application Waiver of Court Fees (Civil)',
      'Application for Waiver of Court Fees',
      'Waiver For Fees',
      'Waiver'
  ]
  IL_fee_waiver_full_for_court.filing_type_default = None
---
if: can_check_efile
code: |
  IL_fee_waiver_supplement.filing_type_filters = [
    'Supplemental',
    'Supplement',
  ]
  IL_fee_waiver_supplement.filing_type_default = None
---
if: can_check_efile
code: |
  IL_fee_waiver_full_for_court.filing_component_filters = ['Lead Document']
  IL_fee_waiver_full_for_court.filing_component_default = '332'
  IL_fee_waiver_full_for_court.optional_services_defaults = []
  IL_fee_waiver_full_for_court.optional_services_filters = []
---
if: can_check_efile
code: |
  IL_fee_waiver_supplement.filing_component_filters = ['Lead Document']
  IL_fee_waiver_supplement.filing_component_default = '332'
  IL_fee_waiver_supplement.optional_services_defaults = []
  IL_fee_waiver_supplement.optional_services_filters = []
---
if: can_check_efile
code: |
  IL_fee_waiver_attachment.filing_component_filters = ['Lead Document']
  IL_fee_waiver_attachment.filing_component_default = '332'
  IL_fee_waiver_attachment.document_description = 'Application for Waiver of Court Fees'
---
if: can_check_efile
code: |
  IL_fee_waiver_order.filing_component_filters = ['Lead Document']
  IL_fee_waiver_order.filing_component_default = '332'
---
if: can_check_efile
code: |
  IL_fee_waiver_order.filing_type_filters = [
    'Proposed Order',
    'Other Document Not Listed (Non-confidential)',
    'Other Document Not Listed'
  ]
  IL_fee_waiver_order.filing_type_default = 'none available' # '29216'
  IL_fee_waiver_order.optional_services_defaults = []
  IL_fee_waiver_order.optional_services_filters = []
---
code: |
  IL_fee_waiver_full_for_court.document_description = 'Application for Waiver of Court Fees'
  IL_fee_waiver_full_for_court.document_type_default = '5766' # non-confidential
  IL_fee_waiver_full_for_court.document_type_filters = ['non-confidential']
  IL_fee_waiver_full_for_court.filing_description = ''
  IL_fee_waiver_full_for_court.reference_number = None
  IL_fee_waiver_full_for_court.filing_action = 'efile'
  IL_fee_waiver_full_for_court.filing_parties = ['users[0]']
  IL_fee_waiver_full_for_court.optional_services.there_are_any = False
---
code: |
  IL_fee_waiver_supplement.document_description = 'Supplemental Form (Application for Waiver of Fees)'
  IL_fee_waiver_supplement.document_type_default = '5766' # non-confidential
  IL_fee_waiver_supplement.document_type_filters = ['non-confidential']
  IL_fee_waiver_supplement.filing_description = ''
  IL_fee_waiver_supplement.reference_number = None
  IL_fee_waiver_supplement.filing_action = 'efile'
  IL_fee_waiver_supplement.filing_parties = ['users[0]']
  IL_fee_waiver_supplement.optional_services.there_are_any = False
---
code: |
  IL_fee_waiver_order.document_description = 'Proposed Order for Waiver of Court Fees'
  IL_fee_waiver_order.document_type_default = '5766' # non-confidential
  IL_fee_waiver_order.document_type_filters = ['non-confidential']
  IL_fee_waiver_order.filing_description = ''
  IL_fee_waiver_order.reference_number = None
  IL_fee_waiver_order.filing_action = 'efile'
  IL_fee_waiver_order.filing_parties = ['users[0]']
  IL_fee_waiver_order.optional_services.there_are_any = False
---
code: |
  IL_fee_waiver_Post_interview_instructions.enabled = True
  IL_fee_waiver_attachment.enabled = True
  IL_fee_waiver_order.enabled = True

  if trial_court.address.county == "Winnebago":
    IL_fee_waiver_supplement.enabled = True
  else:
    IL_fee_waiver_supplement.enabled = False
---
attachments:
  - name: Post interview instructions
    filename: Fee-waiver-instructions
    variable name: IL_fee_waiver_Post_interview_instructions[i]
    pdf template file: il_fee_waiver_instructions.pdf
    editable: False
    fields:
        - "fake": ${ "" }
        
  - name: IL fee waiver order
    filename: IL_fee_waiver_order
    variable name: IL_fee_waiver_order[i]
    skip undefined: True
    pdf template file: FW-CIV-Order.pdf
    editable: False
    fields:
      - "trial_court_county": ${ trial_court.address.county }
      - "plaintiff": |
          % if plaintiffs.number() > 1:
          ${ plaintiffs[0].name_full() }, et al.
          % else:
          ${ plaintiffs[0].name_full() }
          % endif
      - "defendant": |
          % if defendants.number() > 1:
          ${ defendants[0].name_full() }, et al.
          % else:
          ${ defendants[0].name_full() }      
          % endif
      - "docket_number": ${ docket_number }
      - "docket_number__1": ${ docket_number }
      - "docket_number__2": ${ docket_number }
      - "user_name_full": ${ users[0].name_full() }

  - name: IL fee waiver supplement
    filename: winnebago_supplement
    variable name: IL_fee_waiver_supplement[i]
    skip undefined: True
    pdf template file: winnebago_supplement.pdf
    editable: False
    fields:
      - "plaintiff": ${ plaintiffs.full_names() }
      - "defendant": ${ defendants.full_names() }
      - "docket_number": ${ docket_number }
      - "signer_name_full": |
          % if filing_basis != "filing_self":
          ${ signer[0].name_full() }
          % else:
          ${ users[0].name_full() }
          % endif
      - "signer_phone_number": |
          % if filing_basis != "filing_self":
          ${ signer[0].phone_numbers() }
          % else:
          ${ users[0].phone_numbers() }
          % endif
      - "signer_signature": |
          % if signature_choice == "phone" or signature_choice == "this device": 
          % if filing_basis != "filing_self":
          ${ users[0].signature_if_final(i) }
          % else:
          ${ users[0].signature_if_final(i) }
          % endif
          % endif
      - "signer_signature_slash_s": |
          % if signature_choice == "add name":
          % if filing_basis != "filing_self":
          ${ "/s/ " + signer[0].name_full() }
          % else:
          ${ "/s/ " + users[0].name_full() }
          % endif
          % endif
          
  - name: IL fee waiver petition
    filename: IL_fee_waiver     
    variable name: IL_fee_waiver_attachment[i]        
    skip undefined: True
    pdf template file: FeeWaiver_Civil_Application.pdf
    editable: False
    fields:
      - "trial_court_county": ${ trial_court.address.county }
      - "plaintiff": |
          % if in_re_check:
          ${ in_re_label }
          % else:
          % if plaintiffs.number() > 1:
          ${ plaintiffs[0].name_full() }, et al.
          % else:
          ${ plaintiffs[0].name_full() }
          % endif
          % endif
      - "defendant": |
          % if in_re_check:
          ${ "" }
          % else:
          % if defendants.number() > 1:
          ${ defendants[0].name_full() }, et al.
          % else:
          ${ defendants[0].name_full() }      
          % endif
          % endif
      - "docket_number": ${ docket_number }
      - "docket_number__1": ${ docket_number }
      - "docket_number__2": ${ docket_number }
      - "docket_number__3": ${ docket_number }
      - "filing_self_cb": ${ True if filing_basis == "filing_self" else ""}
      - "filing_obo_cb": ${ True if filing_basis != "filing_self" else ""}
      - "user_name_full": ${ users[0].name_full() }
      #- "user_address_one_line": ${ users[0].address.on_one_line(bare=True) }
      - "signer_name_full": |
          % if filing_basis != "filing_self":
          ${ signer[0].name_full() }
          % else:
          ${ users[0].name_full() }
          % endif
      - "user_address_one_line__2": ${ users[0].address.on_one_line(bare=True) }
      - "signer_signature_no_slash": |
          % if filing_basis != "filing_self":          
          ${ signer[0].name_full() if e_signature else '' }
          % else:
          ${ users[0].name_full() if e_signature else ''  }
          % endif
      - "signer_email": |
          % if filing_basis != "filing_self":
          ${ signer[0].email }
          % elif users[0].has_email_address:
          ${ users[0].email }
          % endif
      - "signer_address_city_state_zip": |
          % if filing_basis != "filing_self":
          ${ signer[0].address.line_two() }
          % else:
          ${ users[0].address.line_two() }
          % endif
      - "signer_phone_number": |
          % if filing_basis != "filing_self":
          ${ phone_number_formatted(signer[0].phone_numbers()) }
          % else:
          ${ phone_number_formatted(users[0].phone_numbers()) }
          % endif
      - "signer_address_line_one": |
          % if filing_basis != "filing_self":
          ${ signer[0].address.line_one(bare=True) }
          % else:
          ${ users[0].address.line_one(bare=True) }
          % endif
      - "signer_attorney_number": |
          % if filing_basis != "filing_self" and signer_attorney_number:          
          ${ signer_attorney_number }
          % endif
      - "user_dependents_adults": |
          % if user_has_dependents:
          ${ user_dependents_adults }
          % else:
          0
          % endif
      - "user_dependents_children": |
          % if user_has_dependents:
          ${ user_dependents_children }
          % else:
          0
          % endif
      - "benefits_ssi": ${ True if user_benefits['SSI'] == True else '' }
      - "benefits_aabd": ${ True if user_benefits['AABD'] == True else '' }
      - "benefits_ga": ${ True if user_benefits['GA'] == True else '' }
      - "benefits_snap": ${ True if user_benefits['SNAP'] == True else '' }
      - "benefits_tanf": ${ True if user_benefits['TANF'] == True else '' }
      - "user_receives_benefits_yes": ${ user_benefits.any_true() }
      - "user_receives_benefits_no": ${ user_benefits.all_false() }
      - "user_pending_benefits_yes": ${ True if user_applied_for_benefits else '' }
      - "user_pending_benefits_no": ${ True if user_applied_for_benefits == False else '' }
      - "user_income_ss": |
          % if not user_income_none:
          ${ user_income_ss }
          % endif
      - "user_income_employment":  |
          % if not user_income_none:
          ${ user_income_employment }
          % endif
      - "user_income_employment_amount":  |
          % if not user_income_none:
          ${ thousands(user_income_employment_amount, show_decimals=True) }
          % endif
      - "user_income_ss_amount":  |
          % if not user_income_none:
          ${ thousands(user_income_ss_amount, show_decimals=True) }
          % endif
      - "user_income_child_support":  |
          % if not user_income_none:
          ${ user_income_child_support }
          % endif
      - "user_income_unemployment":  |
          % if not user_income_none:
          ${ user_income_unemployment }
          % endif
      - "user_income_child_support_amount":  |
          % if not user_income_none:
          ${ thousands(user_income_child_support_amount, show_decimals=True) }
          % endif
      - "user_income_unemployment_amount":  |
          % if not user_income_none:
          ${ thousands(user_income_unemployment_amount, show_decimals=True) }
          % endif
      - "user_income_pension":  |
          % if not user_income_none:
          ${ user_income_pension }
          % endif
      - "user_income_pension_amount":  |
          % if not user_income_none:
          ${ thousands(user_income_pension_amount, show_decimals=True) }
          % endif
      - "user_income_household":  |
          % if not user_income_none:
          ${ user_income_household }
          % endif
      - "user_income_household_amount":  |
          % if not user_income_none:
          ${ thousands(user_income_household_amount, show_decimals=True) }
          % endif
      - "user_income_other":  |
          % if not user_income_none:
          ${ user_income_other }
          % endif
      - "user_income_other_amount_1":  |
          % if not user_income_none:
          ${ thousands(user_income_other_list[0].amount, show_decimals=True) }
          % endif
      - "user_income_other_kind_1":  |
          % if not user_income_none:
          ${ user_income_other_list[0].name.text }
          % endif
      - "user_income_other_amount_2":  |
          % if not user_income_none:
          ${ thousands(user_income_other_list[1].amount, show_decimals=True) }
          % endif
      - "user_income_other_kind_2":  |
          % if not user_income_none:
          ${ user_income_other_list[1].name.text }
          % endif
      - "user_income_other_amount_3":  |
          % if not user_income_none:
          ${ thousands(user_income_other_list[2].amount, show_decimals=True) }
          % endif
      - "user_income_other_kind_3":  |
          % if not user_income_none:
          ${ user_income_other_list[2].name.text }
          % endif
      - "user_income_none": ${ user_income_none }
      - "user_income_total":  |
          % if not user_income_none:
          ${ thousands(user_income_total, show_decimals=True) }
          % endif
      - "user_annual_ss_amount": |
          % if not user_annual_none:
          ${ thousands(user_annual_ss_amount, show_decimals=True) }
          % endif
      - "user_annual_employment": |           
          % if not user_annual_none:
          ${ user_annual_employment }
          % endif
      - "user_annual_employment_amount": |
          % if not user_annual_none:
          ${ thousands(user_annual_employment_amount, show_decimals=True) }
          % endif 
      - "user_annual_ss": |
          % if not user_annual_none:
          ${ user_annual_ss }
          % endif
      - "user_annual_unemployment": |
          % if not user_annual_none:
          ${ user_annual_unemployment }
          % endif
      - "user_annual_child_support": |
          % if not user_annual_none:
          ${ user_annual_child_support }
          % endif
      - "user_annual_child_support_amount": |
          % if not user_annual_none:
          ${ thousands(user_annual_child_support_amount, show_decimals=True) }
          % endif
      - "user_annual_unemployment_amount": |
          % if not user_annual_none:
          ${ thousands(user_annual_unemployment_amount, show_decimals=True) }
          % endif
      - "user_annual_pension": |
          % if not user_annual_none:
          ${ user_annual_pension }
          % endif
      - "user_annual_pension_amount": |
          % if not user_annual_none:
          ${ thousands(user_annual_pension_amount, show_decimals=True) }
          % endif
      - "user_annual_household": |
          % if not user_annual_none:
          ${ user_annual_household }
          % endif
      - "user_annual_household_amount": |
          % if not user_annual_none:
          ${ thousands(user_annual_household_amount, show_decimals=True) }
          % endif
      - "user_annual_other": |
          % if not user_annual_none:
          ${ user_annual_other }
          % endif
      - "user_annual_other_amount_1":  |
          % if not user_annual_none:
          ${ thousands(user_annual_other_list[0].amount, show_decimals=True) }
          % endif
      - "user_annual_other_kind_1":  |
          % if not user_annual_none:
          ${ user_annual_other_list[0].name.text }
          % endif
      - "user_annual_other_amount_2":  |
          % if not user_annual_none:
          ${ thousands(user_annual_other_list[1].amount, show_decimals=True) }
          % endif
      - "user_annual_other_kind_2":  |
          % if not user_annual_none:
          ${ user_annual_other_list[1].name.text }
          % endif
      - "user_annual_other_amount_3":  |
          % if not user_annual_none:
          ${ thousands(user_annual_other_list[2].amount, show_decimals=True) }
          % endif
      - "user_annual_other_kind_3":  |
          % if not user_annual_none:
          ${ user_annual_other_list[2].name.text }
          % endif
      - "user_annual_none": ${ user_annual_none }
      - "user_annual_total": |
          % if not user_annual_none:
          ${ thousands(user_annual_total, show_decimals=True) }
          % endif
      - "user_expense_rent": ${ user_expense_rent }
      - "user_expense_rent_amount": ${ thousands(user_expense_rent_amount, show_decimals=True) }
      - "user_expense_mortgage": ${ user_expense_mortgage }
      - "user_expense_mortgage_amount": ${ thousands(user_expense_mortgage_amount, show_decimals=True) }
      - "user_expense_other_mortgage": ${ user_expense_other_mortgage }
      - "user_expense_other_mortgage_amount": ${ thousands(user_expense_other_mortgage_amount, show_decimals=True) }
      - "user_expense_utilities": ${ user_expense_utilities }
      - "user_expense_utilities_amount": ${ thousands(user_expense_utilities_amount, show_decimals=True) }
      - "user_expense_food": ${ user_expense_food }
      - "user_expense_food_amount": ${ thousands(user_expense_food_amount, show_decimals=True) }
      - "user_expense_medical": ${ user_expense_medical }
      - "user_expense_medical_amount": ${ thousands(user_expense_medical_amount, show_decimals=True) }
      - "user_expense_car": ${ user_expense_car }
      - "user_expense_car_amount": ${ thousands(user_expense_car_amount, show_decimals=True) }
      - "user_expense_childcare": ${ user_expense_childcare }
      - "user_expense_childcare_amount": ${ thousands(user_expense_childcare_amount, show_decimals=True) }
      - "user_expense_child_support": ${ user_expense_child_support }
      - "user_expense_child_support_amount": ${ thousands(user_expense_child_support_amount, show_decimals=True) }
      - "user_expense_other": ${ user_expense_other }
      - "user_expense_other_amount_1":  |
          % if not user_expense_none:
          ${ thousands(user_expense_other_list[0].amount, show_decimals=True) }
          % endif
      - "user_expense_other_kind_1":  |
          % if not user_expense_none:
          ${ user_expense_other_list[0].name.text }
          % endif
      - "user_expense_other_amount_2":  |
          % if not user_expense_none:
          ${ thousands(user_expense_other_list[1].amount, show_decimals=True) }
          % endif
      - "user_expense_other_kind_2":  |
          % if not user_expense_none:
          ${ user_expense_other_list[1].name.text }
          % endif
      - "user_expense_other_amount_3":  |
          % if not user_expense_none:
          ${ thousands(user_expense_other_list[2].amount, show_decimals=True) }
          % endif
      - "user_expense_other_kind_3":  |
          % if not user_expense_none:
          ${ user_expense_other_list[2].name.text }
          % endif
      - "user_expense_none": ${ user_expense_none }
      - "user_expense_total": |
          % if not user_expense_none:
          ${ thousands(user_expense_total, show_decimals=True) }
          % endif
      - "user_asset_bank_account": ${ user_asset_bank_account }
      - "user_asset_bank_account_amount": ${ thousands(user_asset_bank_account_amount, show_decimals=True) }
      - "user_asset_home": ${ user_asset_home }
      - "user_asset_home_amount": ${ thousands(user_asset_home_amount, show_decimals=True) }
      - "user_asset_home_amount_owed": ${ thousands(user_asset_home_amount_owed, show_decimals=True) }
      - "user_asset_other_real_estate": ${ user_asset_other_real_estate }
      - "user_asset_other_real_estate_amount": ${ thousands(user_asset_other_real_estate_amount, show_decimals=True) }
      - "user_asset_vehicle1": ${ user_asset_vehicle1 }
      - "user_asset_vehicle1_paid_yes": ${ user_asset_vehicle1_paid }
      - "user_asset_vehicle1_paid_no": ${ not user_asset_vehicle1_paid }
      - "user_asset_vehicle1_amount": ${ thousands(user_asset_vehicle1_amount, show_decimals=True) }
      - "user_asset_vehicle2_paid_yes": ${ user_asset_vehicle2_paid if user_asset_vehicle2 else '' }
      - "user_asset_vehicle2_paid_no": ${ not user_asset_vehicle2_paid if user_asset_vehicle2 else '' }
      - "user_asset_vehicle2": ${ user_asset_vehicle2 }
      - "user_asset_vehicle2_amount": ${ thousands(user_asset_vehicle2_amount, show_decimals=True) if user_asset_vehicle2 else '' }
      - "user_asset_other": ${ user_asset_other }
      - "user_asset_other_amount_1":  |
          % if not user_asset_none:
          ${ thousands(user_asset_other_list[0].amount, show_decimals=True) }
          % endif
      - "user_asset_other_kind_1":  |
          % if not user_asset_none:
          ${ user_asset_other_list[0].name.text }
          % endif
      - "user_asset_other_amount_2":  |
          % if not user_asset_none:
          ${ thousands(user_asset_other_list[1].amount, show_decimals=True) }
          % endif
      - "user_asset_other_kind_2":  |
          % if not user_asset_none:
          ${ user_asset_other_list[1].name.text }
          % endif
      - "user_asset_other_amount_3":  |
          % if not user_asset_none:
          ${ thousands(user_asset_other_list[2].amount, show_decimals=True) }
          % endif
      - "user_asset_other_kind_3":  |
          % if not user_asset_none:
          ${ user_asset_other_list[2].name.text }
          % endif
      - "user_asset_none": ${ user_asset_none }
      - "substantial_hardship_explanation": ${ substantial_hardship_explanation }
      - "court_date_remote_cb": ${ True if court_choice == 'remote' else '' }
      - "court_date_in_person_cb": ${ True if court_choice == 'person' else '' }
      - "form_for_self": ${ True }